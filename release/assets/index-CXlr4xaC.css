body{font-family:Georgia,serif;overflow-y:scroll;scrollbar-gutter:stable}.title-font{font-family:Tektur,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal;font-variation-settings:"wdth" 100}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#2d3748}::-webkit-scrollbar-thumb{background:#4a5568;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#718096}.animated-frame{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000bf;display:flex;align-items:center;justify-content:center;z-index:50;opacity:0;transform:scale(.5);pointer-events:none;transition:opacity .3s cubic-bezier(.4,0,.2,1),transform .3s cubic-bezier(.4,0,.2,1)}.animated-frame.open{opacity:1;transform:scale(1);pointer-events:auto}.debug-lore-frame{z-index:110}.animated-frame-content{background-color:#1f2937;padding:1rem;border-radius:.5rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;position:relative;width:90vw;height:90vh;display:flex;flex-direction:column;border:1px solid #374151}.animated-frame-close-button{position:absolute;top:.75rem;right:.75rem;background-color:#374151b3;color:#e5e7eb;border:none;border-radius:9999px;width:2.5rem;height:2.5rem;font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:60;transition:background-color .2s ease-in-out,transform .2s ease-in-out}.animated-frame-close-button:hover{background-color:#ef4444cc;transform:scale(1.1)}.visualizer-content-area{max-width:1200px;max-height:900px;align-items:center;justify-content:center;flex-grow:1}.visualizer-image-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:grab;touch-action:none;-webkit-user-select:none;user-select:none}.visualizer-image-container:active{cursor:grabbing}.visualizer-image{max-width:100%;max-height:100%;object-fit:contain;border-radius:.25rem;box-shadow:0 0 15px #00000080;pointer-events:none}.visualizer-spinner-container,.visualizer-error-container{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#9ca3af;text-align:center}.visualizer-error-container p{color:#f87171;margin-bottom:1rem}.knowledge-base-content-area,.character-select-content-area{overflow-y:auto;padding:1rem;height:100%}.kb-group-title{font-size:1.5rem;font-weight:600;color:#93c5fd;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:2px solid #3b82f6}.kb-card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.kb-card{background-color:#374151;border:1px solid #4b5563;border-radius:.375rem;padding:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;display:flex;flex-direction:column}.kb-card-name-header{font-size:1.125rem;font-weight:600;color:#f0f9ff;background-color:#4b5563;padding:.5rem .75rem;margin:-1rem -1rem .75rem;border-top-left-radius:.375rem;border-top-right-radius:.375rem;border-bottom:1px solid #374151}.kb-card-aliases{font-size:.875rem;color:#bae6fd;margin-bottom:.5rem;font-style:italic}.kb-card-description{font-size:.875rem;color:#e5e7eb;line-height:1.4;flex-grow:1}.settings-content-area{overflow-y:auto;padding:1rem;height:100%}.settings-slider-container{margin-bottom:1.5rem}.settings-slider-label{display:block;font-size:1.125rem;font-weight:600;color:#93c5fd;margin-bottom:.5rem}.settings-slider-label span{font-weight:400;color:#e5e7eb}.settings-slider{width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:.5rem;background:#4b5563;border-radius:.25rem;outline:none}.settings-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:1.25rem;height:1.25rem;background:#f97316;border-radius:9999px;cursor:pointer;border:2px solid #1f2937}.settings-slider::-moz-range-thumb{width:1.25rem;height:1.25rem;background:#f97316;border-radius:9999px;cursor:pointer;border:2px solid #1f2937}.settings-explanation{font-size:.875rem;color:#d1d5db;margin-top:.25rem;line-height:1.4}.settings-disclaimer{margin-top:2rem;padding:.75rem;background-color:#78350f4d;border:1px solid #a16207;border-radius:.375rem;font-size:.875rem;color:#fcd34d}.info-content-area{overflow-y:auto;padding:1rem;height:100%}.info-content-area h2{margin-top:1rem}.info-content-area h3{margin-top:.75rem}.memories-content-area{overflow-y:auto;padding:1rem;height:100%}.map-content-area{flex-grow:1;display:flex;align-items:center;justify-content:center;overflow:hidden;background-color:#111827;border-radius:.25rem;position:relative}.map-svg-container{width:100%;height:100%;cursor:grab;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.map-svg-container:active{cursor:grabbing}.map-node{cursor:pointer;transition:filter .2s ease-out}.map-node:hover>.map-node-circle{filter:drop-shadow(0 0 5px #a7f3d0)}.map-node-circle{stroke-width:2px;stroke:#60a5fa;fill:#3b82f6}.map-node-circle.feature{fill:#2dd4bf;stroke:#14b8a6}.map-node-circle.region{fill-opacity:0}.map-node-circle.location{fill-opacity:.03}.map-node-circle.settlement{fill-opacity:.05}.map-node-circle.district{fill-opacity:.08}.map-node-circle.exterior{fill-opacity:.1}.map-node-circle.interior{fill-opacity:.12}.map-node-circle.room{fill-opacity:.15}.map-node-circle.current{fill:#facc15;stroke:#eab308;stroke-width:6px}.map-node-circle.current.feature{fill:#fde047;stroke:#facc15;stroke-width:6px}.map-node-circle.quest_target{stroke:#fb923c;stroke-dasharray:4;animation:map-node-quest-pulse 2s infinite}.map-node-circle.rumored{stroke:#9ca3af;opacity:.5}.map-node-circle.blocked{stroke:#ef4444;fill-opacity:.2;opacity:.6}.map-node-circle.rumored.feature{fill:#9ca3af;stroke:#6b7280;opacity:.5}.map-destination-marker{fill:#facc15;stroke:#fef08a;stroke-width:1.5px;pointer-events:none}.map-set-destination-button{display:block;margin-bottom:.25rem;width:100%;background-color:#d97706;color:#fff;border-radius:.25rem;font-size:.75rem}.map-set-destination-button:hover{background-color:#f59e0b}.map-node-label{font-size:12px;fill:#e5e7eb;text-anchor:middle;paint-order:stroke;stroke:#1f2937;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;font-weight:700;pointer-events:none}.map-node-label.feature-label,.map-node-label.room-label,.map-node-label.interior-label{font-size:7px;stroke-width:.6px}.map-edge{stroke:#4b5563;stroke-width:2.5px;fill:none;transition:stroke .2s ease-out}.map-edge-group{cursor:pointer}.map-edge-group:hover>.map-edge{stroke:#9ca3af}.map-edge.path{stroke:#6b7280}.map-edge.door{stroke:#a16207;stroke-dasharray:4,4}.map-edge.locked,.map-edge.blocked{stroke:#ef4444;stroke-dasharray:2,4}.map-edge.hidden{stroke:#4b5563;opacity:.3;stroke-dasharray:1,5}.map-edge.rumored{stroke:#9ca3af;opacity:.5;stroke-dasharray:3,3}.map-edge.collapsed,.map-edge.removed{stroke:#7f1d1d;opacity:.7;stroke-dasharray:3,6}.map-edge.temporary_bridge{stroke:#ca8a04;stroke-dasharray:5,2,2,2}.map-edge.shortcut{stroke:#0d9488;stroke-dasharray:2,6}.map-tooltip{position:absolute;background-color:#1f2937f2;color:#e5e7eb;border:1px solid #60a5fa;border-radius:.375rem;padding:.6rem .85rem;font-size:.9rem;box-shadow:0 5px 15px #0006;pointer-events:none;width:260px;max-width:260px;z-index:70;white-space:pre-wrap;transition:opacity .1s ease-in-out}.map-tooltip.anchor-top-right{transform:translate(-100%);transform-origin:top right}.map-tooltip.anchor-top-left{transform-origin:top left}.map-tooltip.anchor-bottom-right{transform:translate(-100%,-100%);transform-origin:bottom right}.map-tooltip.anchor-bottom-left{transform:translateY(-100%);transform-origin:bottom left}.highlight-tooltip{position:absolute;background-color:#1f2937f2;color:#e5e7eb;border:1px solid #60a5fa;border-radius:.375rem;padding:.4rem .65rem;font-size:1rem;box-shadow:0 5px 15px #0006;pointer-events:auto;max-width:260px;z-index:80;white-space:normal}.map-controls-container{display:flex;flex-direction:column;background-color:#1a202c;border-top:1px solid #374151;max-height:180px}.map-controls-container.controls-expanded{max-height:200px}.map-layout-sliders-wrapper{flex-grow:1;min-height:0;overflow-y:auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.5rem;padding:.5rem;justify-content:space-around}.map-action-buttons-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.5rem;padding:.5rem}.map-control-group{display:flex;flex-direction:column;font-size:.75rem}.map-control-label{color:#cbd5e1;margin-bottom:.1rem}.map-control-input{width:100%;background-color:#2d3748;border:1px solid #4a5568;color:#e2e8f0;border-radius:.25rem;padding:.1rem .25rem}.map-control-input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;height:.75rem}.map-control-input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:.85rem;height:.85rem;background:#f97316;border-radius:50%;cursor:pointer}.map-control-input[type=range]::-moz-range-thumb{width:.85rem;height:.85rem;background:#f97316;border-radius:50%;cursor:pointer;border:none}.map-control-explanation{font-size:.75rem;color:#9ca3af;margin-top:.1rem}.map-control-button{padding:.3rem .5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem;margin-top:.25rem;transition:background-color .2s;min-width:150px}.map-control-button:hover{background-color:#60a5fa}.dialogue-frame{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#111827d9;display:flex;align-items:flex-start;justify-content:center;z-index:100;opacity:0;transform:scale(.9);pointer-events:none;transition:opacity .25s ease-out,transform .25s ease-out;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);overflow-y:auto;padding-top:5vh;padding-bottom:5vh}.dialogue-frame.open{opacity:1;transform:scale(1);pointer-events:auto}.dialogue-frame-content{background-color:#111827;padding:1.5rem;border-radius:.75rem;box-shadow:0 25px 50px -12px #00000040;position:relative;width:90vw;max-width:800px;display:flex;flex-direction:column;border:1px solid #374151;margin-bottom:0}.item-change-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:200;pointer-events:none;display:flex;align-items:center;justify-content:center;gap:1rem}.item-change-overlay.active{pointer-events:auto}.animating-item-card{width:270px;padding:1rem;background-color:#334155;color:#e2e8f0;border:1px solid #4b5563;border-radius:.375rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transform-origin:center center;display:flex;flex-direction:column;position:relative;opacity:0;transform:scale(.1);transition:opacity .6s ease-in-out,transform .6s ease-in-out}.animating-item-card.visible{opacity:1;transform:scale(1)}.animating-item-card.disappear-to-small{opacity:0;transform:scale(.1)}.animating-item-card.disappear-to-large{opacity:0;transform:scale(1.8)}.apply-green-glow-effect{box-shadow:0 0 15px 5px #4ade80b3,0 0 8px 2px #22c55e80;border-color:#6ee7b7cc}.apply-red-glow-effect{box-shadow:0 0 15px 5px #f87171b3,0 0 8px 2px #ef444480;border-color:#fca5a5cc}.apply-neutral-glow-effect{box-shadow:0 0 15px 5px #9ca3af99,0 0 8px 2px #6b728066;border-color:#d1d5dbb3}.text-shadow-sm{text-shadow:0 1px 2px rgba(0,0,0,.9),0 0px 4px rgba(0,0,0,.7)}.text-shadow-md{text-shadow:0 2px 4px rgba(0,0,0,.9),0 0 6px rgba(0,0,0,.7)}.mask-gradient-edges{-webkit-mask-image:linear-gradient(to right,transparent 0px,black 5px,black calc(100% - 5px),transparent 100%),linear-gradient(to bottom,transparent 0px,black 5px,black calc(100% - 5px),transparent 100%);mask-image:linear-gradient(to right,transparent 0px,black 5px,black calc(100% - 5px),transparent 100%),linear-gradient(to bottom,transparent 0px,black 5px,black calc(100% - 5px),transparent 100%);-webkit-mask-composite:intersect;mask-composite:intersect}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-15px)}20%,40%,60%,80%{transform:translate(15px)}}.animate-shake{animation:shake .5s ease-in-out}@keyframes objective-success-pulse{0%,to{background-color:#78350f80;box-shadow:none;border-color:#a16207;transform:scale(1)}15%{background-color:#10b98199;box-shadow:0 0 20px #22c55eb3,0 0 30px 5px #4ade8080;border-color:#34d399;transform:scale(1.05)}30%{background-color:#0596698c;box-shadow:0 0 15px #22c55e99,0 0 25px 3px #4ade8066;border-color:#6ee7b7;transform:scale(1.02)}50%{background-color:#6ee7b7b3;box-shadow:0 0 35px 5px #86efaccc,0 0 50px 10px #d9f9e399;border-color:#a7f3d0;transform:scale(1.06)}70%{background-color:#10b98180;box-shadow:0 0 18px #22c55e80,0 0 28px 4px #4ade804d;border-color:#34d399;transform:scale(1.03)}}.animate-objective-success{animation:objective-success-pulse 5s ease-out 1}@keyframes objective-neutral-pulse{0%,to{background-color:#78350f80;box-shadow:none;border-color:#a16207}50%{background-color:#3b82f666;box-shadow:0 0 20px #2563eb99;border-color:#3b82f6}}.animate-objective-neutral{animation:objective-neutral-pulse 5s ease-out 1}@keyframes map-node-quest-pulse{0%{stroke-opacity:1}50%{stroke-opacity:.4}to{stroke-opacity:1}}@keyframes newItemPulse{0%{background-color:#4ade8000;transform:scale(1)}50%{background-color:#4ade804d;transform:scale(1.02)}to{background-color:#4ade8000;transform:scale(1)}}.animate-new-item-pulse{animation:newItemPulse 1.5s ease-out 1;border-radius:.375rem}@keyframes fadeInScaleUp{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}.animate-dialogue-new-entry{animation:fadeInScaleUp .3s ease-out}@keyframes archiveFadeOut{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.9)}}.animate-archive-fade-out{animation:archiveFadeOut 1s ease-out forwards;pointer-events:none}.page-view-content-area{max-width:600px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column}.tag-handwritten{background-color:wheat;color:#1a1a1a;font-family:Oooh Baby,cursive;font-weight:600;font-size:1.5rem!important}.tag-handwritten strong{color:#7f1d1d;font-size:1.75rem!important}.tag-handwritten em{color:#0e124b;text-decoration:underline}.tag-printed{background-color:wheat;color:#1a1a1a;font-family:"IBM Plex Serif",serif}.tag-printed strong{color:#000}.tag-printed em{text-decoration:underline}.tag-typed{background-color:wheat;color:#333;font-family:Special Elite}.tag-typed strong{color:#000}.tag-typed em{text-decoration:wavy underline}.tag-digital{background-color:#0c140a;color:#00ff90;font-family:VT323,monospace;font-size:1.5rem!important}.tag-digital strong{color:red}.tag-digital em{color:red;text-decoration:underline}.tag-handwritten-foreign{font-family:Gloria Hallelujah,cursive;background-color:wheat}.tag-typed-foreign{font-family:"IBM Plex Serif",serif;background-color:wheat}.tag-printed-foreign{font-family:Eagle Lake,serif;background-color:wheat}.tag-printed-foreign strong{color:#800}.tag-printed-foreign em{color:#040;text-decoration:wavy underline}.tag-digital-foreign{font-family:Chokokutai,system-ui;color:#7880d6!important;background-color:#121f0f}.tag-faded:not(.tag-recovered){color:#a5906a}.tag-faded.tag-gothic:not(.tag-recovered){color:#4e4129}.tag-smudged:not(.tag-recovered){color:#4b3621;filter:blur(1px);text-shadow:-6px 3px 3px rgba(75,54,33,.5),6px 6px 3px rgba(99,52,25,.25)}.tag-torn.torn-top{border-top:0;padding-top:0;margin-top:0}.tag-torn.torn-bottom{border-bottom:0;padding-bottom:0;margin-bottom:0}.torn-divider{border:0;height:30px;margin:.5rem -1.25rem;background-image:linear-gradient(45deg,transparent 50%,#1f2937 50%),linear-gradient(-45deg,transparent 50%,#1f2937 50%);background-position:right top,right bottom;background-repeat:repeat-x;background-size:30px 32px}.torn-divider.torn-bottom{transform:rotate(180deg)}.tag-torn.torn-top .torn-divider:first-child{margin-top:0}.tag-torn.torn-bottom .torn-divider:last-child{margin-bottom:0;transform:rotate(180deg)}.tag-glitching{color:#00ff90;text-shadow:1px 2px 0 rgb(255,0,255),-8px -9px 0 rgb(0,225,255),3px -5px 0 rgb(0,255,0)}.tag-encrypted{color:#4b3621;font-style:monospace}.tag-foreign{color:#212553}.tag-gothic{font-family:UnifrakturMaguntia,cursive;color:#2b2016;background-color:#aa8a4e;font-size:1.5rem!important}.tag-gothic strong{color:#800;font-weight:600}.tag-gothic em{color:#040;text-decoration:wavy underline;font-weight:600}.tag-runic{color:#2b2016;background-color:#aa8a4e;font-size:1.5rem!important}.tag-gothic.tag-recovered,.tag-runic.tag-recovered{font-family:"IBM Plex Serif",serif;color:#1a1a1a}
